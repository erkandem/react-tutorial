<!DOCTYPE html>
<html>
<head>
<meta charset="utf-8">
<title>React! React! React!</title>

<!--
<script src="https://unpkg.com/react@16/umd/react.development.js"></script>
<script src="https://unpkg.com/react-dom@16/umd/react-dom.development.js"> </script>
<script src="https://unpkg.com/babel-standalone@6.15.0/babel.min.js"></script>
-->

<script src="js/react.development.js"></script>
<script src="js/react-dom.development.js"> </script>
<script src="js/babel.min.js"></script>

<style>
  #container {
    padding: 50px;
    background-color: #EEE;
  }
  #container h1 {
    font-size: 144px;
    font-family: sans-serif;
    color: #0080A8;
  }
</style>
</head>
  <body>
    <div id="container"></div>
    <script type="text/babel">
      class Counter extends React.Component {
        render() {
          var counterStyle = {
            fontSize: 72,
            fontFamily: "sans-serif",
            color: "#333",
            fontWeight: "bold"
          };
          return (
            <div style={counterStyle}>
              {this.props.display}
            </div>
          )
        }
      }

      class CounterParent extends React.Component {
        constructor(props) {
          super(props);
          this.state = {count: 0};
          this.increase = this.increase.bind(this);
        }

        increase(e) {
          /* the eventhandler */
          var currentCount = this.state.count;  // in JS, currentCount is a new memory spot
          if (e.shiftKey) { // we can by default capture many key, mouse actions e.g. also ctrlKey
            currentCount += 10;
          } else {
            currentCount += 1;
          }
          this.setState({count: currentCount});
        }

        render () {
          var backgroundStyle = {
            padding: 50,
            backgroundColor: "#FFC53A",
            width: 250,
            height: 100,
            borderRadius: 10,
            textAlign: "center"
          };
          return (
            <div style={backgroundStyle}>
              {/* notice here how this.state rather than this.props is used as input*/}
              <Counter display={this.state.count}/>
              {/*
              method of the parent is passed as the a parameter.
              Eventually, it is assigned as the button click event handler
              */}
              <CounterButton clickHandler={this.increase}/>
            </div>
          );
        }
      }

      class CounterButton extends React.Component {
        render () {
          var buttonStyle = {
            fontSize: "1em",
            width: 30,
            height: 30,
            fontFamily: "sans-serif",
            color: "#333",
            fontWeight: "bold",
            lineHeight: "3px"
          };
          return (
            <div>
              {/*
              button elements can get assigned a handler
              here it's called clickHandler and
              has to be passed in the instantiation.
              */}
              <button onClick={this.props.clickHandler} style={buttonStyle}>+</button>
            </div>
          );
        }
      }

      var destination = document.querySelector("#container");
      ReactDOM.render(
        <div>
          <CounterParent/>
        </div>,
        destination
      );
    </script>
  </body>
</html>
